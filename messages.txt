[HumanMessage(content='Hey', additional_kwargs={}, response_metadata={}, id='8e5bcb1c-30e3-4456-8d04-a5309ad3bb90'), HumanMessage(content='Hey', additional_kwargs={}, response_metadata={}, id='febb1ad3-5bd6-4075-b374-08d0200236ec'), HumanMessage(content='Hey', additional_kwargs={}, response_metadata={}, id='34e42c6b-2a0f-495f-9a6a-754905385bf9'), AIMessage(content="Hey! What's up? How can I help you today?", additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 96, 'prompt_tokens': 424, 'total_tokens': 520, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 84, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 150, 'video_tokens': 0}, 'cost': 0.0001103, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 6.23e-05, 'upstream_inference_completions_cost': 4.8e-05}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768132648-1mbSgmq9ggqoQl6W61mI', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019baceb-1ca3-7942-9412-a321576be8be-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 424, 'output_tokens': 96, 'total_tokens': 520, 'input_token_details': {'audio': 0, 'cache_read': 150}, 'output_token_details': {'reasoning': 84}}), HumanMessage(content='Do you know about elon musk', additional_kwargs={}, response_metadata={}, id='93b1f92b-6f17-4b55-8a62-c01b166a5595'), AIMessage(content="Yes, I'm familiar with Elon Musk! He's a South African-born entrepreneur, engineer, and business magnate. Here's a quick overview:\n\n- **Background**: Born in 1971 in Pretoria, South Africa. He moved to Canada at 17 and later to the US, where he studied at the University of Pennsylvania.\n- **Companies**: \n  - Co-founded PayPal (sold to eBay in 2002).\n  - Founded SpaceX (2002), focusing on space exploration and reusable rockets.\n  - CEO of Tesla (joined in 2004), leading electric vehicles and sustainable energy.\n  - Founded Neuralink (brain-machine interfaces), The Boring Company (tunneling), and xAI (AI research).\n  - Owns X (formerly Twitter), acquired in 2022.\n- **Achievements**: Known for ambitious goals like colonizing Mars, advancing AI, and promoting renewable energy. He's the world's richest person (as of recent rankings) and has a net worth fluctuating around $200-250 billion.\n- **Personal Life**: Father of multiple children, vocal on social media, and often in the news for his opinions on tech, politics, and culture.\n\nWhat specifically would you like to know about him?", additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 354, 'prompt_tokens': 451, 'total_tokens': 805, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 105, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 153, 'video_tokens': 0}, 'cost': 0.00024425, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 6.725e-05, 'upstream_inference_completions_cost': 0.000177}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768132728-77P2yt6yMbUigzVIk63w', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019bacec-5262-7523-8aa1-6a7110287ea7-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 451, 'output_tokens': 354, 'total_tokens': 805, 'input_token_details': {'audio': 0, 'cache_read': 153}, 'output_token_details': {'reasoning': 105}}), HumanMessage(content='How old is he', additional_kwargs={}, response_metadata={}, id='3a0adaf7-6f90-4cdf-8c01-47c1ebb69065'), AIMessage(content='Elon Musk was born on June 28, 1971, so he is currently 53 years old (as of 2024). If you need his age on a specific date, let me know!', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 338, 'prompt_tokens': 712, 'total_tokens': 1050, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 295, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 150, 'video_tokens': 0}, 'cost': 0.0002889, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 0.0001199, 'upstream_inference_completions_cost': 0.000169}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768132746-UPM27Tht7mjgaGjQ9vo1', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019bacec-9c60-75e0-8975-6659a74cac98-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 712, 'output_tokens': 338, 'total_tokens': 1050, 'input_token_details': {'audio': 0, 'cache_read': 150}, 'output_token_details': {'reasoning': 295}}), HumanMessage(content='What is 23/7', additional_kwargs={}, response_metadata={}, id='c87e4061-2db8-4c72-bfe5-a85ce99fb500'), AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 247, 'prompt_tokens': 768, 'total_tokens': 1015, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 220, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 446, 'video_tokens': 0}, 'cost': 0.0002102, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 8.67e-05, 'upstream_inference_completions_cost': 0.0001235}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768132820-1yL6EgNffkwUEMQRZhbd', 'finish_reason': 'tool_calls', 'logprobs': None}, id='lc_run--019baced-b052-7121-b82e-d21b7c75b602-0', tool_calls=[{'name': 'calculator', 'args': {'expression': '23 / 7'}, 'id': 'call_87024844', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 768, 'output_tokens': 247, 'total_tokens': 1015, 'input_token_details': {'audio': 0, 'cache_read': 446}, 'output_token_details': {'reasoning': 220}}), ToolMessage(content='3.2857142857142856', name='calculator', id='149562aa-49d7-4e78-bba6-8a2503c284d9', tool_call_id='call_87024844'), AIMessage(content='23 divided by 7 is approximately **3.2857** (or exactly **3 and 2/7** as a mixed number/fraction: \\( 3 \\frac{2}{7} \\) or \\( \\frac{23}{7} \\)).\n\nIf you meant something else (like a reference or code), let me know!', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 198, 'prompt_tokens': 813, 'total_tokens': 1011, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 129, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 707, 'video_tokens': 0}, 'cost': 0.00015555, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 5.655e-05, 'upstream_inference_completions_cost': 9.9e-05}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768132831-8WAB9LrT6tsyYTmRo66J', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019baced-e9bc-7553-8761-fc3f99d03359-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 813, 'output_tokens': 198, 'total_tokens': 1011, 'input_token_details': {'audio': 0, 'cache_read': 707}, 'output_token_details': {'reasoning': 129}}), HumanMessage(content='Who was I talking about just now?', additional_kwargs={}, response_metadata={}, id='e99db874-cc8c-4a4e-b7f3-7e4ccace9cb5'), AIMessage(content='You were talking about Elon Musk (asking about his age right before the math question).', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 241, 'prompt_tokens': 899, 'total_tokens': 1140, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 224, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 150, 'video_tokens': 0}, 'cost': 0.0002778, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 0.0001573, 'upstream_inference_completions_cost': 0.0001205}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768133218-dh0FHHqBBZPXzUdQsB3X', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019bacf3-cf5b-7212-ba6f-6a114998cbc2-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 899, 'output_tokens': 241, 'total_tokens': 1140, 'input_token_details': {'audio': 0, 'cache_read': 150}, 'output_token_details': {'reasoning': 224}}), HumanMessage(content='Can you summarize what we talked about till now', additional_kwargs={}, response_metadata={}, id='4596cb92-e7f5-4884-9059-ebcba13970f4'), AIMessage(content='Here\'s a quick summary of our conversation so far:\n\n- You started with a casual "Hey" greeting, and I responded in kind, asking how I could help.\n- You asked if I know about Elon Musk, and I gave a brief overview of his background, companies, achievements, and personal life.\n- You followed up by asking his age, and I confirmed he\'s 53 (born June 28, 1971).\n- Then you asked for the result of 23 divided by 7, which I calculated as approximately 3.2857 (or exactly 23/7 as a fraction).\n- You asked who you\'d been talking about just now, and I reminded you it was Elon Musk.\n\nIf you\'d like more details on any part or to continue on a topic, let me know!', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 334, 'prompt_tokens': 933, 'total_tokens': 1267, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 173, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 150, 'video_tokens': 0}, 'cost': 0.0003311, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 0.0001641, 'upstream_inference_completions_cost': 0.000167}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768135057-3n6qur4lSBPiV4b5cjmd', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019bad0f-dcb9-7bf0-8d3b-efeec69b158a-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 933, 'output_tokens': 334, 'total_tokens': 1267, 'input_token_details': {'audio': 0, 'cache_read': 150}, 'output_token_details': {'reasoning': 173}}), HumanMessage(content='What is 4/3.14', additional_kwargs={}, response_metadata={}, id='5547f3ab-11bf-47a5-af78-33ef098c0382'), AIMessage(content='', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 127, 'prompt_tokens': 1110, 'total_tokens': 1237, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 98, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 151, 'video_tokens': 0}, 'cost': 0.00026285, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 0.00019935, 'upstream_inference_completions_cost': 6.35e-05}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768135155-Nan9pDaNslhaqrUYW48k', 'finish_reason': 'tool_calls', 'logprobs': None}, id='lc_run--019bad11-5d8c-7d53-9864-b8ba8e5a1f99-0', tool_calls=[{'name': 'calculator', 'args': {'expression': '4 / 3.14'}, 'id': 'call_94825861', 'type': 'tool_call'}], invalid_tool_calls=[], usage_metadata={'input_tokens': 1110, 'output_tokens': 127, 'total_tokens': 1237, 'input_token_details': {'audio': 0, 'cache_read': 151}, 'output_token_details': {'reasoning': 98}}), ToolMessage(content='1.2738853503184713', name='calculator', id='f3fc51bb-4c7d-48bd-9cdd-9cae4a873705', tool_call_id='call_94825861'), AIMessage(content='4 divided by 3.14 is approximately **1.274** (rounded to three decimal places). If you need more precision or meant something else (like relating to π), let me know!', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 224, 'prompt_tokens': 1157, 'total_tokens': 1381, 'completion_tokens_details': {'accepted_prediction_tokens': None, 'audio_tokens': None, 'reasoning_tokens': 184, 'rejected_prediction_tokens': None, 'image_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 151, 'video_tokens': 0}, 'cost': 0.00032075, 'is_byok': False, 'cost_details': {'upstream_inference_cost': None, 'upstream_inference_prompt_cost': 0.00020875, 'upstream_inference_completions_cost': 0.000112}}, 'model_provider': 'openai', 'model_name': 'x-ai/grok-4-fast', 'system_fingerprint': None, 'id': 'gen-1768135157-9PGYgXfbO2d8lD3jUfng', 'finish_reason': 'stop', 'logprobs': None}, id='lc_run--019bad11-655d-7380-b12a-c173d446806b-0', tool_calls=[], invalid_tool_calls=[], usage_metadata={'input_tokens': 1157, 'output_tokens': 224, 'total_tokens': 1381, 'input_token_details': {'audio': 0, 'cache_read': 151}, 'output_token_details': {'reasoning': 184}}), HumanMessage(content='Hey', additional_kwargs={}, response_metadata={}, id='874f5049-079a-4a1a-bd8e-0317d01ea99a')]
2026-01-11 20:39:59,401 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-17035b87-e427-4cdb-a903-07aa833ca748', 'json_data': {'messages': [{'content': 'You are a helpful assistant. You provide clear, concise, and accurate responses to user queries.', 'role': 'system'}, {'content': 'Hey', 'role': 'user'}, {'content': 'Hey', 'role': 'user'}, {'content': "Hey! What's up? How can I help you today?", 'role': 'assistant'}, {'content': 'Do you know about elon musk', 'role': 'user'}, {'content': "Yes, I'm familiar with Elon Musk! He's a South African-born entrepreneur, engineer, and business magnate. Here's a quick overview:\n\n- **Background**: Born in 1971 in Pretoria, South Africa. He moved to Canada at 17 and later to the US, where he studied at the University of Pennsylvania.\n- **Companies**: \n  - Co-founded PayPal (sold to eBay in 2002).\n  - Founded SpaceX (2002), focusing on space exploration and reusable rockets.\n  - CEO of Tesla (joined in 2004), leading electric vehicles and sustainable energy.\n  - Founded Neuralink (brain-machine interfaces), The Boring Company (tunneling), and xAI (AI research).\n  - Owns X (formerly Twitter), acquired in 2022.\n- **Achievements**: Known for ambitious goals like colonizing Mars, advancing AI, and promoting renewable energy. He's the world's richest person (as of recent rankings) and has a net worth fluctuating around $200-250 billion.\n- **Personal Life**: Father of multiple children, vocal on social media, and often in the news for his opinions on tech, politics, and culture.\n\nWhat specifically would you like to know about him?", 'role': 'assistant'}, {'content': 'How old is he', 'role': 'user'}, {'content': 'Elon Musk was born on June 28, 1971, so he is currently 53 years old (as of 2024). If you need his age on a specific date, let me know!', 'role': 'assistant'}, {'content': 'What is 23/7', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_87024844', 'function': {'name': 'calculator', 'arguments': '{"expression": "23 / 7"}'}}]}, {'content': '3.2857142857142856', 'role': 'tool', 'tool_call_id': 'call_87024844'}, {'content': '23 divided by 7 is approximately **3.2857** (or exactly **3 and 2/7** as a mixed number/fraction: \\( 3 \\frac{2}{7} \\) or \\( \\frac{23}{7} \\)).\n\nIf you meant something else (like a reference or code), let me know!', 'role': 'assistant'}, {'content': 'Who was I talking about just now?', 'role': 'user'}, {'content': 'You were talking about Elon Musk (asking about his age right before the math question).', 'role': 'assistant'}, {'content': 'Can you summarize what we talked about till now', 'role': 'user'}, {'content': 'Here\'s a quick summary of our conversation so far:\n\n- You started with a casual "Hey" greeting, and I responded in kind, asking how I could help.\n- You asked if I know about Elon Musk, and I gave a brief overview of his background, companies, achievements, and personal life.\n- You followed up by asking his age, and I confirmed he\'s 53 (born June 28, 1971).\n- Then you asked for the result of 23 divided by 7, which I calculated as approximately 3.2857 (or exactly 23/7 as a fraction).\n- You asked who you\'d been talking about just now, and I reminded you it was Elon Musk.\n\nIf you\'d like more details on any part or to continue on a topic, let me know!', 'role': 'assistant'}, {'content': 'What is 4/3.14', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_94825861', 'function': {'name': 'calculator', 'arguments': '{"expression": "4 / 3.14"}'}}]}, {'content': '1.2738853503184713', 'role': 'tool', 'tool_call_id': 'call_94825861'}, {'content': '4 divided by 3.14 is approximately **1.274** (rounded to three decimal places). If you need more precision or meant something else (like relating to π), let me know!', 'role': 'assistant'}, {'content': 'Hey', 'role': 'user'}], 'model': 'x-ai/grok-4-fast', 'stream': False, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Evaluate a mathematical expression and return the result.\n\nArgs:\n    expression: A mathematical expression as a string (e.g., "2 + 2", "10 * 5", "100 / 4")\n\nReturns:\n    The result of the calculation as a string', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}]}}
